# gatling

## OPen Executors




| 执行器                | 描述                      | 典型用途            |
| ------------------ | ----------------------- | --------------- |
| **atOnceUsers**    | 一次性启动指定数量的用户            | 瞬时压测、冒烟测试       |
| **rampUsers**      | 在指定时间内线性增加用户            | 平滑加载测试、观察系统承载能力 |
| **rampUsersPerSec** | 在指定时间内线性增加请求速率（用户/秒）    | 对请求速率敏感的系统压力测试  |
| **constantUsersPerSec** | 固定速率启动用户                | 目标 RPS 测试       |
| **nothingFor**     | 延迟执行（等待一段时间再启动）         | 模拟业务等待、阶段间冷却    |


## Close Executors
| 执行器                      | 描述                                             |
|--------------------------| ---------------------------------------------- |
| **ConstantCurrentUser**  | 平滑 ramp 并发用户（高级别对 constantConcurrentUsers 的扩展） |
| **IncrementCurrentUser** | 将用户分成不同阶段启动，支持复杂负载曲线                           |
| **RampConCurrentUser**   | Gatling DSL 可自定义用户注入模式（如根据函数或指标）               |




# 判断标准
## 1、检查项目 mean/p50
1. <1.2,分布集中，平均值接近中位数
2. 1.2~1.5：轻微偏右
3. 1.5：右偏明显

## 2、检查 p95 / p50
1. ≤2：长尾不明显
2. 2~3：轻微长尾
3. 大于3：明显长尾

## 3. 检查 p99 / p50
1. 大于5：极端长尾，需要重点分析

## 4. 辅助
1. std dev < 10ms
2. std dev 10–50ms → 有轻微波动
3. std dev > 50ms → 存在明显长尾或偶发慢请求


## 开放模式&封闭模式

Close 模式固定并发用户数，Open模式固定请求速率
. Close模式中，用户数量不变，系统变慢请求自然变少
. Open模式中，请求速率不变，系统变慢时会堆积更多并发请求



| 特性                      | Close模式              | Open模式         |
|-------------------------|----------------------|----------------|
| **用户模式**                | 固定数量虚拟用户	         | 固定请求速率（RPS）     |
| **并发数**                 | 固定         | 动态增长（随响应时间增加）|
| **吞吐量（TPS）**            | 随系统性能波动 | 恒定（由测试工具控制） |
| **用户行为仿真、稳定性测试** | 用户行为仿真、稳定性测试	             | 压力测试、容量规划、极限测试      |



## 场景
日常性能回归测试，用close模式，观察固定用户下的响应时间变化
上线前压测/容量评估，用open模式，逐步提高RPS直到系统崩溃，找到最大承载能力